export function up(knex): Promise<any> {
  return knex.schema.createTable('test', (test) => {
    test.increments('id');
    test.string('url', 255).notNullable();
    test.string('status', 32).notNullable().default('waiting');
    test.json('result');
    test.timestamp('createdAt').notNullable().defaultTo(knex.raw('CURRENT_TIMESTAMP'));
    test.timestamp('updatedAt').notNullable().defaultTo(knex.raw('CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP'));
    test.index('url');
  });
}

export function down(knex): Promise<any> {
  return knex.schema.dropTable('test');
}
